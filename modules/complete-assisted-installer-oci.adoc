// Module included in the following assemblies:
//
// * installing/installing_oci/installing-oci-assisted-installer.adoc

:_mod-docs-content-type: PROCEDURE
[id="complete-assisted-installer-oci_{context}"]
= Completing the remaining {ai-full} steps

After you provision {oci-first} resources and upload {product-title} custom manifest configuration files to {oci}, you must complete the remaining cluster installation steps on the {ai-full} before you can create an instance {oci}.

.Prerequisites

* You created a resource stack on {oci} that includes the custom manifest configuration files and {oci} Resource Manager configuration resources. See "Provisioning {oci} infrastructure for your cluster".

== Assigning node roles 

Following host discovery, the role of all nodes appears as *Auto-assign* by default. You now need to change each of the roles to either *Control Plane node* or *Worker*.

.Procedure

. From the link:https://console.redhat.com/openshift[Red Hat Hybrid Cloud Console], go to the *Host discovery* page.

. In the *Role* column, assign a node role, either *Control plane node* or *Worker*, for each targeted hostname. Click *Next*.

. Accept the default settings for the *Storage* and *Networking* pages.

. Click *Next*. 

== Adding custom manifests and starting the installation

Add the mandatory custom manifests provided by Oracle for the integration. They are located in the `custom_ manifest/manifests/` folder, and include the following:
//Do we have better descriptions for these

** `oci-ccm.yml` - CCM manifest

** `oci-csi.yml` - CSI driver manifest

** `machineconfig-ccm.yml` - CCM machine configuration manifest

** `machineconfig-csi.yml` - CSI driver machine configuration manifest

** `machineconfig-consistent-device-path.yml` - Consistent device path machine configuration manifest

For clusters deployed on bare-metal instance (BMI) nodes using iSCSI, you must also add manifests that provide a second vNIC to be used for the iSCSI service. They are also located in `custom_ manifest/manifests/`, and include the following:

** `oci-configure-secondary-nic-worker.yml` - If the installation has compute nodes defined as BMIs.

** `oci-configure-secondary-nic-master.yml` - If the installation has control plane nodes defined as BMIs. 

.Procedure

. Navigate to the *Custom manifests* page.

. Upload the first manifest file, for example `oci-ccm.yml`:

.. In the *Folder* field, select `manifests`. This is the {ai-full} folder where you want to save the custom manifest file.

.. In the *File name* field, enter a value such as `oci-ccm.yml`.

.. In the *Content* section, click *Browse*. Select the manifest from the `custom_ manifest/manifests/` folder.

. Click *Add another manifest*. Repeat the above substeps for each required Oracle manifest in the `custom_ manifest/manifests` folder. Then click *Next*.

. Review the *Review and create* page to confirm the definitions.

. Click *Install cluster* to install your {product-title} cluster on {oci}.


////

.Procedure

. From the link:https://console.redhat.com/[{hybrid-console}] web console, go to the *Host discovery* page.

. Under the *Role* column, change the default `Auto-assign` value by selecting either `Control plane node` or `Worker` for each targeted hostname.
+
[IMPORTANT]
====
Before, you can continue to the next steps, wait for each node to reach the `Ready` status.
====

. Accept the default settings for the *Storage* and *Networking* steps, and then click *Next*.

. On the *Custom manifests* page, in the *Folder* field, select `manifest`. This is the {ai-full} folder where you want to save the custom manifest file.
.. In the *File name* field, enter a value such as `oci-ccm.yml`.
.. From the *Content* section, click *Browse*, and select the CCM manifest from your drive located in `custom_manifest/manifests/oci-ccm.yml`.

. Expand the next *Custom manifest* section and repeat the same steps for the following manifests:
 - `custom_manifest/manifests/oci-csi.yml`: CSI driver manifest
 - `custom_manifest/openshift/machineconfig-ccm.yml`: CCM machine configuration manifest 
 - `custom_manifest/openshift/machineconfig-csi.yml`: CSI driver machine configuration manifest
 - `machineconfig-consistent-device-path.yml`: Consistent device path machine configuration manifest 

. Optional: For clusters deployed on bare-metal instance (BMI) nodes using iSCSI, add the following manifests to provide a second vNIC for the iSCSI service:

 - `oci-configure-secondary-nic-worker.yml`: If the installation has compute nodes defined as BMIs.
 - `oci-configure-secondary-nic-master.yml`: If the installation has control plane nodes defined as BMIs.
 
. From the *Review and create* page, click *Install cluster* to create your {product-title} cluster on {oci}.

After the cluster installation and initialization operations, the {ai-full} indicates the completion of the cluster installation operation. For more information, see "Completing the installation" section in the _{ai-full} for {product-title}_ document.
////